<!DOCTYPE html>
<html lang="en" class="h-100">
  <head>
    <title>Wow!: a Coding Project by Nebojsa</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <!-- Google Fonts Lobster -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lobster&display=swap"
      rel="stylesheet"
    />

    <script
      src="https://kit.fontawesome.com/5db21ba9c6.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="css/site.css" />
    <link rel="stylesheet" href="css/prism.css" />
    <link rel="icon" href="img/favicon.ico" type="image/x-icon" />
  </head>

  <body class="d-flex flex-column h-100">
    <!-- === Nav Section === -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand logoFont" href="index.html"
          ><img
            src="img/icon.png"
            class="d-inline-block align-text-top"
            height="24"
            alt="Nebojsa Logo"
          />
          Wow!</a
        >
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarCollapse"
          aria-controls="navbarCollapse"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="app.html">The App</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="code.html"
                >The Code</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link"
                href="https://github.com/nradojcic/Wow-Palindrome"
                target="_blank"
                >GitHub Repo</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://nebojsa.ca" target="_blank"
                >About Nebojsa</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- === Main Section === -->
    <main class="flex-shrink-0">
      <div class="container py-5 px-5 mt-5">
        <h2 class="border-1 border-bottom border-dark">
          The Code for <span class="logoFont">Wow! Palindrome</span>
        </h2>
        <div class="row row-cols-1 row-cols-lg-2">
          <!-- Left - Prism Code - paste your code between <code> tags -->
          <div class="col-lg-8">
            <pre class="line-numbers"><code class="language-javascript">
                // get user input
                // Controller function
                function getValue() {
                  // make sure the alert box is off and not styled at the beginning
                  document.getElementById("alert").classList.add("invisible");
                  document.getElementById("alert").classList
                      .remove("alert-danger", "alert-success");

                  // get user string from the page
                  let userString = document.getElementById("userString").value;

                  // check for a palindrome
                  let returnObj = checkForPalindrome(userString);

                  // display a message to the webpage
                  displayMessage(returnObj);
                }

                // check if string is a palindrome
                // Logic function
                function checkForPalindrome(userString) {
                  // convert to lowercase, and then ...
                  userString = userString.toLowerCase();

                  // ... remove any spaces and special characters before checking
                  let regex = /[^a-z0-9]/gi;
                  userString = userString.replace(regex, "");

                  // reverse the string
                  let revString = [];
                  let returnObj = {};

                  for (let i = userString.length - 1; i >= 0; i--) {
                    revString += userString[i];
                  }

                  // check if both strings are the same
                  if (revString == userString) {
                    returnObj.msg = "Well  done! Yes! You entered a Palindrome!";
                    document.getElementById("alert").classList.add("alert-success");

                  } else {
                    returnObj.msg = "Sorry! No, it's NOT a Palindrome!";
                    document.getElementById("alert").classList.add("alert-danger");
                  }

                  returnObj.reversed = revString;

                  // return the object
                  return returnObj;
                }

                // display a message on the webpage
                // View function
                function displayMessage(returnObj) {
                  // write heading and the message
                  document.getElementById("alert-heading").innerHTML = returnObj.msg;
                  document.getElementById("msg").innerHTML = 
                      `Your Phrase reversed is: <strong>${returnObj.reversed}</strong>`;

                  // turn the alert on
                  document.getElementById("alert").classList.remove("invisible");
                }
                </code>
            </pre>
          </div>
          <!-- Right - Code Description -->
          <div class="col-lg-4">
            <p class="mt-3">
              The Code is structured in <strong>three functions</strong>.
            </p>
            <h5 class="mt-4">1) <strong>getValue</strong> function</h5>
            <p>
              Function <strong>getValue</strong> is the Controller function. It
              is triggered by an onClick event connected to a button on the App
              page.
            </p>
            <p>
              It first makes sure the alert display box is hidden, by adding the
              <strong>invisible</strong> CSS class to it. And removing any
              pre-existing styling classes.
            </p>
            <p>
              It then collects text from the input field on the page, and routes
              the request to other functions.
            </p>
            <p>
              Then it calls <strong>checkForPalindrome</strong> function to
              reverse and compare the collected string, and then the
              <strong>displayMessage</strong> function to show the alert box
              with appropriate message.
            </p>
            <h5 class="mt-5">
              2) <strong>checkForPalindrome</strong> function
            </h5>
            <p>
              Function <strong>checkForPalindrome</strong> is the Logic
              function. It reverses the user's string and compares it to the
              original one.
            </p>
            <p>
              It accepts <strong>userString</strong> as the argument. It
              converts it to lower case and removes any spaces, or special
              characters from the string for easier comparison.
            </p>
            <p>
              The string is then reversed using a
              <strong>FOR loop BACKWARDS</strong>.
            </p>
            <p>
              The reversed string is then compared to forward string version.
              Based on the results of the comparison, return object
              <strong>returnObj</strong> is assigned the header message and the
              reversed string. The appropriate styling CSS class is assigned to
              the alert box element, to show different color.
            </p>
            <p>
              The function then returns the return object -
              <strong>returnObj</strong>.
            </p>
            <h5 class="mt-5">3) <strong>displayMessage</strong> function</h5>
            <p>
              Function <strong>displayMessage</strong> is the View function. It
              displays alert with the header message and the reversed string on
              the web page.
            </p>
            <p>
              It accepts an object as the argument. Then it inserts the heading
              and the message from the object into the alert box element. And
              then shows the message on the screen by removing
              <strong>invisible</strong> CSS class from the alert box that was
              made hidden at the beginning of the program.
            </p>
          </div>
        </div>
      </div>
    </main>

    <!-- === Footer Section === -->
    <footer class="footer mt-auto py-3">
      <div class="container-fluid">
        <div class="row row-cols-1 row-cols-lg-3 gy-2">
          <div class="col order-last order-lg-first text-light">
            <div>
              <span class="text-muted">&copy;2021</span> Nebojsa Radojcic |
              hello@nebojsa.ca
            </div>
          </div>
          <div
            class="
              col
              d-flex
              align-items-center
              justify-content-start justify-content-lg-center
            "
          >
            <a href="https://nebojsa.ca" target="_blank">
              <img
                src="img/NebojsaCA-light.png"
                alt="Nebojsa Logo"
                height="33"
              />
            </a>
          </div>
          <div
            class="
              col
              d-flex
              align-items-center
              justify-content-start justify-content-lg-end
            "
          >
            <div class="row">
              <div class="col social">
                <a href="https://www.linkedin.com/in/nebrado/" target="_blank"
                  ><i class="fab fa-linkedin fa-2x"></i
                ></a>
              </div>
              <div class="col social">
                <a href="https://github.com/nradojcic" target="_blank"
                  ><i class="fab fa-github fa-2x"></i
                ></a>
              </div>
              <!-- <div class="col social">
                <a href="#" target="_blank"
                  ><i class="fab fa-twitter fa-2x"></i
                ></a>
              </div>
              <div class="col social">
                <a href="#" target="_blank"
                  ><i class="fab fa-youtube fa-2x"></i
                ></a>
              </div> -->
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>
    <script src="js/prism.js"></script>
    <script>
      Prism.plugins.NormalizeWhitespace.setDefaults({
        "remove-trailing": true,
        "remove-indent": true,
        "left-trim": true,
        "right-trim": true,
      });
    </script>
  </body>
</html>
